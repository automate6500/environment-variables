name: Environment Variables
env:
  WORKSPACE_ENVIRONMENT_VARIABLE: workspace
on: [push]
jobs:
  ubuntu:
    env:
      JOB_ENVIRONMENT_VARIABLE: jobs
    runs-on: ubuntu-latest
    steps:
      - name: Print custom environment variables from ubuntu-latest
        env:
          STEP_ENVIRONMENT_VARIABLE: step
        run: |
          echo "Accessing environment variables in run command"
          echo $WORKSPACE_ENVIRONMENT_VARIABLE
          echo $JOB_ENVIRONMENT_VARIABLE
          echo $STEP_ENVIRONMENT_VARIABLE
          echo "------------------------------------------------------"
          echo "Accessing environment variables using env context"
          echo ${{ env.WORKSPACE_ENVIRONMENT_VARIABLE }}
          echo ${{ env.JOB_ENVIRONMENT_VARIABLE }}
          echo ${{ env.STEP_ENVIRONMENT_VARIABLE }} # NOT DEFINED!
  windows:
    env:
      JOB_ENVIRONMENT_VARIABLE: jobs
    runs-on: windows-latest
    steps:
      - name: Print custom environment variables from windows-latest
        env:
          STEP_ENVIRONMENT_VARIABLE: step
        run: |
          echo "Accessing environment variables in run command"
          echo $Env:WORKSPACE_ENVIRONMENT_VARIABLE
          echo $Env:JOB_ENVIRONMENT_VARIABLE
          echo $Env:STEP_ENVIRONMENT_VARIABLE
          echo "------------------------------------------------------"
          echo "Accessing environment variables using env context"
          echo ${{ env.WORKSPACE_ENVIRONMENT_VARIABLE }}
          echo ${{ env.JOB_ENVIRONMENT_VARIABLE }}
          echo ${{ env.STEP_ENVIRONMENT_VARIABLE }} # NOT DEFINED!
